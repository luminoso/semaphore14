<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>AHSARL (Aveiro Handicraft SARL): /home/ruib/Teaching/SO/2014_2015/aulas práticas/trabalho 2/AHSARL/semaphore/src/semSharedMemEntrp.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AHSARL (Aveiro Handicraft SARL)
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Implementation based on shared memory and semaphores</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sem_shared_mem_entrp_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">semSharedMemEntrp.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Problem name: Aveiro Handicraft SARL.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br/>
</div>
<p><a href="sem_shared_mem_entrp_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac797a199f3740acb44bda1619370111c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#ac797a199f3740acb44bda1619370111c">prepareToWork</a> (void)</td></tr>
<tr class="memdesc:ac797a199f3740acb44bda1619370111c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare to work operation.  <a href="#ac797a199f3740acb44bda1619370111c">More...</a><br/></td></tr>
<tr class="separator:ac797a199f3740acb44bda1619370111c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad329a4ca7adeafbf22a3a16a88bbeea0"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#ad329a4ca7adeafbf22a3a16a88bbeea0">appraiseSit</a> (void)</td></tr>
<tr class="memdesc:ad329a4ca7adeafbf22a3a16a88bbeea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appraise situation operation.  <a href="#ad329a4ca7adeafbf22a3a16a88bbeea0">More...</a><br/></td></tr>
<tr class="separator:ad329a4ca7adeafbf22a3a16a88bbeea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4032b85a7cec28c0ed0755135f7c40a5"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#a4032b85a7cec28c0ed0755135f7c40a5">addressACustomer</a> (void)</td></tr>
<tr class="memdesc:a4032b85a7cec28c0ed0755135f7c40a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address a customer operation.  <a href="#a4032b85a7cec28c0ed0755135f7c40a5">More...</a><br/></td></tr>
<tr class="separator:a4032b85a7cec28c0ed0755135f7c40a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed8c83d2c09bbad231ca9c2aa476276"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#a7ed8c83d2c09bbad231ca9c2aa476276">sayGoodByeToCustomer</a> (unsigned int custId)</td></tr>
<tr class="memdesc:a7ed8c83d2c09bbad231ca9c2aa476276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Say goodbye to customer operation.  <a href="#a7ed8c83d2c09bbad231ca9c2aa476276">More...</a><br/></td></tr>
<tr class="separator:a7ed8c83d2c09bbad231ca9c2aa476276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab3a2d29eb5744d5aae1c19928b315ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#aab3a2d29eb5744d5aae1c19928b315ad">customersInTheShop</a> (void)</td></tr>
<tr class="memdesc:aab3a2d29eb5744d5aae1c19928b315ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Customers in the shop operation.  <a href="#aab3a2d29eb5744d5aae1c19928b315ad">More...</a><br/></td></tr>
<tr class="separator:aab3a2d29eb5744d5aae1c19928b315ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a64b046bc6e2be33c912d52a100e79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#a30a64b046bc6e2be33c912d52a100e79">closeTheDoor</a> (void)</td></tr>
<tr class="memdesc:a30a64b046bc6e2be33c912d52a100e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the door operation.  <a href="#a30a64b046bc6e2be33c912d52a100e79">More...</a><br/></td></tr>
<tr class="separator:a30a64b046bc6e2be33c912d52a100e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2c6adfc23ffbe51059ab3436b1a69f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#acb2c6adfc23ffbe51059ab3436b1a69f">prepareToLeave</a> (void)</td></tr>
<tr class="memdesc:acb2c6adfc23ffbe51059ab3436b1a69f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare to leave operation.  <a href="#acb2c6adfc23ffbe51059ab3436b1a69f">More...</a><br/></td></tr>
<tr class="separator:acb2c6adfc23ffbe51059ab3436b1a69f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86cd016d07ba5b12bc7408fdc1ecdb83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#a86cd016d07ba5b12bc7408fdc1ecdb83">goToWorkShop</a> (void)</td></tr>
<tr class="memdesc:a86cd016d07ba5b12bc7408fdc1ecdb83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Go to the workshop operation.  <a href="#a86cd016d07ba5b12bc7408fdc1ecdb83">More...</a><br/></td></tr>
<tr class="separator:a86cd016d07ba5b12bc7408fdc1ecdb83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e700c7787dd47d12dc8d74c3bd87eff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#a3e700c7787dd47d12dc8d74c3bd87eff">visitSuppliers</a> (void)</td></tr>
<tr class="memdesc:a3e700c7787dd47d12dc8d74c3bd87eff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Visit suppliers operation.  <a href="#a3e700c7787dd47d12dc8d74c3bd87eff">More...</a><br/></td></tr>
<tr class="separator:a3e700c7787dd47d12dc8d74c3bd87eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02045645fe2092d05b63ba2fa823e7e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#a02045645fe2092d05b63ba2fa823e7e8">returnToShop</a> (void)</td></tr>
<tr class="memdesc:a02045645fe2092d05b63ba2fa823e7e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return to shop.  <a href="#a02045645fe2092d05b63ba2fa823e7e8">More...</a><br/></td></tr>
<tr class="separator:a02045645fe2092d05b63ba2fa823e7e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3860862711ee8c5e1f90dccd478b51"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_entrp_8h.html#acf3860862711ee8c5e1f90dccd478b51">endOperEntrep</a> (void)</td></tr>
<tr class="memdesc:acf3860862711ee8c5e1f90dccd478b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">End of operations for the entrepreneur.  <a href="#acf3860862711ee8c5e1f90dccd478b51">More...</a><br/></td></tr>
<tr class="separator:acf3860862711ee8c5e1f90dccd478b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Problem name: Aveiro Handicraft SARL. </p>
<p>(interface file)</p>
<p>Concept: Pedro Mariano.</p>
<p>Synchronization based on semaphores and shared memory. Implementation with SVIPC.</p>
<p>Definition of the operations carried out by the entrepreneur: </p>
<ul>
<li>prepareToWork </li>
<li>appraiseSit </li>
<li>addressACustomer </li>
<li>sayGoodByeToCustomer </li>
<li>customersInTheShop </li>
<li>closeTheDoor </li>
<li>prepareToLeave </li>
<li>goToWorkShop </li>
<li>visitSuppliers </li>
<li>returnToShop </li>
<li>endOperEntrep.</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>António Rui Borges - October 2014 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4032b85a7cec28c0ed0755135f7c40a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int addressACustomer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address a customer operation. </p>
<p>The entrepreneur goes to the counter to attend a customer.</p>
<dl class="section return"><dt>Returns</dt><dd>the identification of the customer </dd></dl>

</div>
</div>
<a class="anchor" id="ad329a4ca7adeafbf22a3a16a88bbeea0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char appraiseSit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Appraise situation operation. </p>
<p>The entrepreneur waits for service requests. She is waken up in the following cases: </p>
<ul>
<li>when a customer requests service at the counter </li>
<li>when a customer exits the shop </li>
<li>when a craftsman phones to request more prime materials for the workshop </li>
<li>when a craftsman phones to ask for the collection of a new batch of products.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd><code>'C'</code>, if a customer is needing attention </dd>
<dd>
<code>'P'</code>, if she should go shopping for prime materials </dd>
<dd>
<code>'G'</code>, if she should go to the workshop to collect a new batch of products </dd>
<dd>
<code>'E'</code>, if the simulation has come to an end </dd></dl>

</div>
</div>
<a class="anchor" id="a30a64b046bc6e2be33c912d52a100e79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void closeTheDoor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the door operation. </p>
<p>The entrepreneur closes the door to prevent further customers to come in. </p>

</div>
</div>
<a class="anchor" id="aab3a2d29eb5744d5aae1c19928b315ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool customersInTheShop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Customers in the shop operation. </p>
<p>The entrepreneur checks if there are any customers in the shop.</p>
<dl class="section return"><dt>Returns</dt><dd>-c true, if there are any customers in the shop or about to enter the shop </dd>
<dd>
-c false, otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="acf3860862711ee8c5e1f90dccd478b51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool endOperEntrep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End of operations for the entrepreneur. </p>
<p>Checking the end of the life cycle of the entrepreneur.</p>
<p>The entrepreneur stops if all prime materials have been converted into products and if all products have been sold and there are no requests of service pending and the shop is empty.</p>
<dl class="section return"><dt>Returns</dt><dd>-c true, if the life cycle of the entrepreneur has come to an end </dd>
<dd>
-c false, otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a86cd016d07ba5b12bc7408fdc1ecdb83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void goToWorkShop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Go to the workshop operation. </p>
<p>The entrepreneur collects a batch of products from the storeroom at the workshop. </p>

</div>
</div>
<a class="anchor" id="acb2c6adfc23ffbe51059ab3436b1a69f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepareToLeave </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare to leave operation. </p>
<p>The entrepreneur closes the shop. </p>

</div>
</div>
<a class="anchor" id="ac797a199f3740acb44bda1619370111c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepareToWork </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare to work operation. </p>
<p>The entrepreneur opens the shop and gets ready to perform her duties. </p>

</div>
</div>
<a class="anchor" id="a02045645fe2092d05b63ba2fa823e7e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void returnToShop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return to shop. </p>
<p>The entrepreneur goes back to the shop. </p>

</div>
</div>
<a class="anchor" id="a7ed8c83d2c09bbad231ca9c2aa476276"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sayGoodByeToCustomer </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>custId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Say goodbye to customer operation. </p>
<p>The entrepreneur completes the transaction. The customer which was serviced should be waken up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">custId</td><td>identification of the customer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3e700c7787dd47d12dc8d74c3bd87eff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void visitSuppliers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Visit suppliers operation. </p>
<p>The entrepreneur goes shopping for prime materials and delivers them to the workshop. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="sem_shared_mem_entrp_8h.html">semSharedMemEntrp.h</a></li>
    <li class="footer">Generated on Mon Dec 1 2014 01:18:32 for AHSARL (Aveiro Handicraft SARL) by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
